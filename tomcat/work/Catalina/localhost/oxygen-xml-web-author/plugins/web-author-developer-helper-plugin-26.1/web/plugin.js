(()=>{var B,d,ue,Ue,N,_e,pe,Y,Be,P={},de=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Z=Array.isArray;function w(e,t){for(var n in t)e[n]=t[n];return e}function fe(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t,n){var o,s,r,i={};for(r in t)r=="key"?o=t[r]:r=="ref"?s=t[r]:i[r]=t[r];if(arguments.length>2&&(i.children=arguments.length>3?B.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)i[r]===void 0&&(i[r]=e.defaultProps[r]);return R(e,i,o,s,null)}function R(e,t,n,o,s){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++ue,__i:-1,__u:0};return s==null&&d.vnode!=null&&d.vnode(r),r}function me(){return{current:null}}function F(e){return e.children}function I(e,t){this.props=e,this.context=t}function x(e,t){if(t==null)return e.__?x(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?x(e):null}function ve(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ve(e)}}function ie(e){(!e.__d&&(e.__d=!0)&&N.push(e)&&!U.__r++||_e!==d.debounceRendering)&&((_e=d.debounceRendering)||pe)(U)}function U(){var e,t,n,o,s,r,i,l,a;for(N.sort(Y);e=N.shift();)e.__d&&(t=N.length,o=void 0,r=(s=(n=e).__v).__e,l=[],a=[],(i=n.__P)&&((o=w({},s)).__v=s.__v+1,d.vnode&&d.vnode(o),Q(i,o,s,n.__n,i.ownerSVGElement!==void 0,32&s.__u?[r]:null,l,r??x(s),!!(32&s.__u),a),o.__.__k[o.__i]=o,ge(l,o,a),o.__e!=r&&ve(o)),N.length>t&&N.sort(Y));U.__r=0}function ye(e,t,n,o,s,r,i,l,a,c,f){var _,m,u,y,S,g=o&&o.__k||de,v=t.length;for(n.__d=a,We(n,t,g),a=n.__d,_=0;_<v;_++)(u=n.__k[_])!=null&&typeof u!="boolean"&&typeof u!="function"&&(m=u.__i===-1?P:g[u.__i]||P,u.__i=_,Q(e,u,m,s,r,i,l,a,c,f),y=u.__e,u.ref&&m.ref!=u.ref&&(m.ref&&X(m.ref,null,u),f.push(u.ref,u.__c||y,u)),S==null&&y!=null&&(S=y),65536&u.__u||m.__k===u.__k?a=he(u,a,e):typeof u.type=="function"&&u.__d!==void 0?a=u.__d:y&&(a=y.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=a,n.__e=S}function We(e,t,n){var o,s,r,i,l,a=t.length,c=n.length,f=c,_=0;for(e.__k=[],o=0;o<a;o++)(s=e.__k[o]=(s=t[o])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?R(null,s,null,null,s):Z(s)?R(F,{children:s},null,null,null):s.__b>0?R(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,l=je(s,n,i=o+_,f),s.__i=l,r=null,l!==-1&&(f--,(r=n[l])&&(r.__u|=131072)),r==null||r.__v===null?(l==-1&&_--,typeof s.type!="function"&&(s.__u|=65536)):l!==i&&(l===i+1?_++:l>i?f>a-i?_+=l-i:_--:_=l<i&&l==i-1?l-i:0,l!==o+_&&(s.__u|=65536))):(r=n[o])&&r.key==null&&r.__e&&(r.__e==e.__d&&(e.__d=x(r)),J(r,r,!1),n[o]=null,f--);if(f)for(o=0;o<c;o++)(r=n[o])!=null&&!(131072&r.__u)&&(r.__e==e.__d&&(e.__d=x(r)),J(r,r))}function he(e,t,n){var o,s;if(typeof e.type=="function"){for(o=e.__k,s=0;o&&s<o.length;s++)o[s]&&(o[s].__=e,t=he(o[s],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function je(e,t,n,o){var s=e.key,r=e.type,i=n-1,l=n+1,a=t[n];if(a===null||a&&s==a.key&&r===a.type)return n;if(o>(a!=null&&!(131072&a.__u)?1:0))for(;i>=0||l<t.length;){if(i>=0){if((a=t[i])&&!(131072&a.__u)&&s==a.key&&r===a.type)return i;i--}if(l<t.length){if((a=t[l])&&!(131072&a.__u)&&s==a.key&&r===a.type)return l;l++}}return-1}function le(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Fe.test(t)?n:n+"px"}function L(e,t,n,o,s){var r;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||le(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||le(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")r=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.u=o.u:(n.u=Date.now(),e.addEventListener(t,r?ae:ce,r)):e.removeEventListener(t,r?ae:ce,r);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function ce(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(d.event?d.event(e):e)}function ae(e){return this.l[e.type+!0](d.event?d.event(e):e)}function Q(e,t,n,o,s,r,i,l,a,c){var f,_,m,u,y,S,g,v,C,k,V,D,se,H,K,b=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(a=!!(32&n.__u),r=[l=t.__e=n.__e]),(f=d.__b)&&f(t);e:if(typeof b=="function")try{if(v=t.props,C=(f=b.contextType)&&o[f.__c],k=f?C?C.props.value:f.__:o,n.__c?g=(_=t.__c=n.__c).__=_.__E:("prototype"in b&&b.prototype.render?t.__c=_=new b(v,k):(t.__c=_=new I(v,k),_.constructor=b,_.render=qe),C&&C.sub(_),_.props=v,_.state||(_.state={}),_.context=k,_.__n=o,m=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),b.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=w({},_.__s)),w(_.__s,b.getDerivedStateFromProps(v,_.__s))),u=_.props,y=_.state,_.__v=t,m)b.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(b.getDerivedStateFromProps==null&&v!==u&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(v,k),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(v,_.__s,k)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(_.props=v,_.state=_.__s,_.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(O){O&&(O.__=t)}),V=0;V<_._sb.length;V++)_.__h.push(_._sb[V]);_._sb=[],_.__h.length&&i.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(v,_.__s,k),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(u,y,S)})}if(_.context=k,_.props=v,_.__P=e,_.__e=!1,D=d.__r,se=0,"prototype"in b&&b.prototype.render){for(_.state=_.__s,_.__d=!1,D&&D(t),f=_.render(_.props,_.state,_.context),H=0;H<_._sb.length;H++)_.__h.push(_._sb[H]);_._sb=[]}else do _.__d=!1,D&&D(t),f=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++se<25);_.state=_.__s,_.getChildContext!=null&&(o=w(w({},o),_.getChildContext())),m||_.getSnapshotBeforeUpdate==null||(S=_.getSnapshotBeforeUpdate(u,y)),ye(e,Z(K=f!=null&&f.type===F&&f.key==null?f.props.children:f)?K:[K],t,n,o,s,r,i,l,a,c),_.base=t.__e,t.__u&=-161,_.__h.length&&i.push(_),g&&(_.__E=_.__=null)}catch(O){t.__v=null,a||r!=null?(t.__e=l,t.__u|=a?160:32,r[r.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),d.__e(O,t,n)}else r==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=$e(n.__e,t,n,o,s,r,i,a,c);(f=d.diffed)&&f(t)}function ge(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)X(n[o],n[++o],n[++o]);d.__c&&d.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(r){r.call(s)})}catch(r){d.__e(r,s.__v)}})}function $e(e,t,n,o,s,r,i,l,a){var c,f,_,m,u,y,S,g=n.props,v=t.props,C=t.type;if(C==="svg"&&(s=!0),r!=null){for(c=0;c<r.length;c++)if((u=r[c])&&"setAttribute"in u==!!C&&(C?u.localName===C:u.nodeType===3)){e=u,r[c]=null;break}}if(e==null){if(C===null)return document.createTextNode(v);e=s?document.createElementNS("http://www.w3.org/2000/svg",C):document.createElement(C,v.is&&v),r=null,l=!1}if(C===null)g===v||l&&e.data===v||(e.data=v);else{if(r=r&&B.call(e.childNodes),g=n.props||P,!l&&r!=null)for(g={},c=0;c<e.attributes.length;c++)g[(u=e.attributes[c]).name]=u.value;for(c in g)u=g[c],c=="children"||(c=="dangerouslySetInnerHTML"?_=u:c==="key"||c in v||L(e,c,null,u,s));for(c in v)u=v[c],c=="children"?m=u:c=="dangerouslySetInnerHTML"?f=u:c=="value"?y=u:c=="checked"?S=u:c==="key"||l&&typeof u!="function"||g[c]===u||L(e,c,u,g[c],s);if(f)l||_&&(f.__html===_.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(_&&(e.innerHTML=""),ye(e,Z(m)?m:[m],t,n,o,s&&C!=="foreignObject",r,i,r?r[0]:n.__k&&x(n,0),l,a),r!=null)for(c=r.length;c--;)r[c]!=null&&fe(r[c]);l||(c="value",y!==void 0&&(y!==e[c]||C==="progress"&&!y||C==="option"&&y!==g[c])&&L(e,c,y,g[c],!1),c="checked",S!==void 0&&S!==e[c]&&L(e,c,S,g[c],!1))}return e}function X(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){d.__e(o,n)}}function J(e,t,n){var o,s;if(d.unmount&&d.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||X(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){d.__e(r,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&J(o[s],t,n||typeof e.type!="function");n||e.__e==null||fe(e.__e),e.__=e.__e=e.__d=void 0}function qe(e,t,n){return this.constructor(e,n)}function Ce(e,t,n){var o,s,r,i;d.__&&d.__(e,t),s=(o=typeof n=="function")?null:n&&n.__k||t.__k,r=[],i=[],Q(t,e=(!o&&n||t).__k=p(F,null,[e]),s||P,P,t.ownerSVGElement!==void 0,!o&&n?[n]:s?null:t.firstChild?B.call(t.childNodes):null,r,!o&&n?n:s?s.__e:t.firstChild,o,i),ge(r,e,i)}B=de.slice,d={__e:function(e,t,n,o){for(var s,r,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((r=s.constructor)&&r.getDerivedStateFromError!=null&&(s.setState(r.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),i=s.__d),i)return s.__E=s}catch(l){e=l}throw e}},ue=0,Ue=function(e){return e!=null&&e.constructor==null},I.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=w({},this.state),typeof e=="function"&&(e=e(w({},n),this.props)),e&&w(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ie(this))},I.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ie(this))},I.prototype.render=F,N=[],pe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Y=function(e,t){return e.__v.__b-t.__v.__b},U.__r=0,Be=0;var M,h,ee,Se,$=0,Ie=[],W=[],be=d.__b,Ee=d.__r,ke=d.diffed,we=d.__c,Te=d.unmount;function ne(e,t){d.__h&&d.__h(h,e,$||t),$=0;var n=h.__H||(h.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:W}),n.__[e]}function xe(e){return $=1,ze(Me,e)}function ze(e,t,n){var o=ne(M++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Me(void 0,t),function(l){var a=o.__N?o.__N[0]:o.__[0],c=o.t(a,l);a!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=h,!h.u)){var s=function(l,a,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(m){return m.__c});if(f.every(function(m){return!m.__N}))return!r||r.call(this,l,a,c);var _=!1;return f.forEach(function(m){if(m.__N){var u=m.__[0];m.__=m.__N,m.__N=void 0,u!==m.__[0]&&(_=!0)}}),!(!_&&o.__c.props===l)&&(!r||r.call(this,l,a,c))};h.u=!0;var r=h.shouldComponentUpdate,i=h.componentWillUpdate;h.componentWillUpdate=function(l,a,c){if(this.__e){var f=r;r=void 0,s(l,a,c),r=f}i&&i.call(this,l,a,c)},h.shouldComponentUpdate=s}return o.__N||o.__}function q(e,t){var n=ne(M++,3);!d.__s&&Pe(n.__H,t)&&(n.__=e,n.i=t,h.__H.__h.push(n))}function De(e){return $=5,Ge(function(){return{current:e}},[])}function Ge(e,t){var n=ne(M++,7);return Pe(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Ke(){for(var e;e=Ie.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(j),e.__H.__h.forEach(te),e.__H.__h=[]}catch(t){e.__H.__h=[],d.__e(t,e.__v)}}d.__b=function(e){h=null,be&&be(e)},d.__r=function(e){Ee&&Ee(e),M=0;var t=(h=e.__c).__H;t&&(ee===h?(t.__h=[],h.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=W,n.__N=n.i=void 0})):(t.__h.forEach(j),t.__h.forEach(te),t.__h=[],M=0)),ee=h},d.diffed=function(e){ke&&ke(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ie.push(t)!==1&&Se===d.requestAnimationFrame||((Se=d.requestAnimationFrame)||Ye)(Ke)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==W&&(n.__=n.__V),n.i=void 0,n.__V=W})),ee=h=null},d.__c=function(e,t){t.some(function(n){try{n.__h.forEach(j),n.__h=n.__h.filter(function(o){return!o.__||te(o)})}catch(o){t.some(function(s){s.__h&&(s.__h=[])}),t=[],d.__e(o,n.__v)}}),we&&we(e,t)},d.unmount=function(e){Te&&Te(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{j(o)}catch(s){t=s}}),n.__H=void 0,t&&d.__e(t,n.__v))};var Ne=typeof requestAnimationFrame=="function";function Ye(e){var t,n=function(){clearTimeout(o),Ne&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Ne&&(t=requestAnimationFrame(n))}function j(e){var t=h,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),h=t}function te(e){var t=h;e.__c=e.__(),h=t}function Pe(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Me(e,t){return typeof t=="function"?t(e):t}function Je({prop:e}){let n=e.name.indexOf("color")!==-1?p("span",{className:"css-inspector__property-color-cube",style:{color:e.value,backgroundColor:e.value}}):"";return p("div",{className:"css-inspector__property-item-row"},p("span",{className:`css-inspector__property-item ${e.overridden?"css-inspector__property-item--overridden":""}`},p("span",{className:"css-inspector__property-name"},e.name),p("span",null,": "),p("span",{className:"css-inspector__property-value"},e.value,";",e.important?" !important":"")),n)}var z=Je;function Ze({rulesDescriptors:e}){return p("div",{className:"css-inspector__rules-descriptors"},e.map(t=>p("div",{className:"css-inspector__rule-descriptor"},p("div",{className:"css-inspector__rule-location",title:t.locator.location},t.locator.location.split("/").pop(),":",t.locator.line),p("div",{className:"css-inspector__rule-selector"},t.selector," {",p("div",{className:"css-inspector__properties-list"},t.properties.map(n=>p(z,{prop:n}))),p("div",null,"}")))))}var Ae=Ze;function Qe({elementStyles:e}){return p("div",{className:"css-inspector__element-styles"},e.map(t=>p("div",{className:"css-inspector__element-style"},p("div",{className:"css-inspector__element-style-header"},t.ancestorInheritedRules?"Inherited from ":"",p("div",{className:"css-inspector__element-display-name"},t.displayName)),p(Ae,{rulesDescriptors:t.rulesDescriptors}))))}var A=Qe;function Xe({computedModel:e}){function t(s){return p("div",{className:"css-inspector__properties-list"},Object.entries(s).map(([r,i])=>p(z,{prop:{name:r,value:i}})))}function n(s,r){return p("div",{className:"css-inspector__element-styles"},p("div",{className:"css-inspector__element-style"},p("div",{className:"css-inspector__element-style-header"},p("div",{className:"css-inspector__element-display-name"},s)),p("div",{className:"css-inspector__rule-descriptor"},t(r))))}function o(s,r){return p("div",null,Object.entries(r).map(([i,l])=>n(s+"("+i+")",l)))}return p("div",null,Object.keys(e.elementComputedStyles??{}).length>0&&n("Element",e.elementComputedStyles),e.beforeComputedStyles&&o("Before",e.beforeComputedStyles),e.afterComputedStyles&&o("After",e.afterComputedStyles),Object.keys(e.markerComputedStyle??{}).length>0&&n("Marker",e.markerComputedStyle))}var Ve=Xe;function et({tabsState:e,setTabsState:t}){let n=De(null);return q(()=>{n.current&&n.current.hasChildNodes()&&goog.dom.removeChildren(n.current);let o=new goog.ui.Toolbar,s=new goog.ui.Menu;e.tabs.forEach(l=>{let a=new goog.ui.MenuItem(l);a.setCheckable(!0),a.addClassName("css-inspector-menu-item-"+l.replaceAll(/[^A-Za-z0-9]+/g,"").toLowerCase()),a.setChecked(l===e.selectedTab),a.addEventListener(goog.ui.Component.EventType.ACTION,()=>{t({...e,selectedTab:l}),s.forEachChild((c,f)=>{c.setChecked(e.tabs[f]===l)})}),s.addItem(a)});let r=e.selectedTab,i=new goog.ui.ToolbarMenuButton(r,s);o.addChild(i,!0),o.render(n.current)},[e]),p("div",{className:"css-inspector-toolbar-container"},p("div",{className:"css-inspector-toolbar",ref:n}))}var He=et;function tt({data:e}){let[t,n]=xe({selectedTab:"Element",tabs:o(e.resolvedModel)});q(()=>{let r=o(e.resolvedModel),i=r.includes(t.selectedTab);n({tabs:r,selectedTab:i?t.selectedTab:r[0]||"Element"})},[e,t.selectedTab]);function o(r){let i=["Element","Computed"];return r.beforeLevels.forEach(l=>i.push("Before("+l+")")),r.afterLevels.forEach(l=>i.push("After("+l+")")),r.markerPseudoElementStyles.length!==0&&i.push("Marker"),i}return p("div",null,p(He,{tabsState:t,setTabsState:n}),p("div",{className:"css-inspector"},(()=>{if(t.selectedTab==="Element"){if(e.resolvedModel.elementStyles)return p(A,{elementStyles:e.resolvedModel.elementStyles})}else if(t.selectedTab==="Computed"){if(e.computedModel)return p(Ve,{computedModel:e.computedModel})}else if(t.selectedTab.startsWith("Before")){let r=t.selectedTab.match(/\((.*?)\)/)[1];if(e.resolvedModel.beforePseudoElementStyles[r])return p(A,{elementStyles:e.resolvedModel.beforePseudoElementStyles[r]})}else if(t.selectedTab.startsWith("After")){let r=t.selectedTab.match(/\((.*?)\)/)[1];if(e.resolvedModel.afterPseudoElementStyles[r])return p(A,{elementStyles:e.resolvedModel.afterPseudoElementStyles[r]})}else if(t.selectedTab==="Marker"&&e.resolvedModel.markerPseudoElementStyles)return p(A,{elementStyles:e.resolvedModel.markerPseudoElementStyles});return null})()))}var Oe=tt;var oe=class extends I{constructor(t){super(t),this.state={data:null}}setCssData=t=>{this.setState({data:t})};render(){let{data:t}=this.state;return t?p(Oe,{data:t}):p("div",null)}},Le=oe;var T="inspect-element-styles-view",E=class extends sync.view.ViewRenderer{constructor(){super(),this.cssInspectorDataContainerRef=me()}getTitle(){return"CSS Inspector"}getTitleTooltip(){return"CSS Inspector"}install(t){this.container_=t;let n=document.getElementById("inspect-element-styles-view-content");Ce(p(Le,{ref:this.cssInspectorDataContainerRef}),n)}updateData(){this.throttledUpdateData_()}updateClientSideStyles(t,n){t["font-family"]=n.getPropertyValue("font-family"),t["font-size"]=n.getPropertyValue("font-size")}throttledUpdateData_=goog.functions.throttle(goog.bind(function(){let t=workspace.currentEditor;if(!t.getEditingSupport().getSelectionManager())return;let o=t.getEditingSupport().getSelectionManager().getSelection(),s=o.getNodeAtCaret(!0)||o.getFullySelectedNode(),i=(o.getNodeAtCaret()||o.getFullySelectedNode()).getHtmlNode(),l=window.getComputedStyle(s.getHtmlNode()),a=window.getComputedStyle(i,"::marker"),c=[],f=[],_=sync.caret.ContentIterator.getPseudoElements(i);for(let m of _){let u=window.getComputedStyle(m);sync.caret.ContentIterator.isStaticContentBefore(m)?c.push(u):f.push(u)}return c.reverse(),t.getEditingSupport().getActionsManager().invokeOperation("com.oxygenxml.devhelper.GetCssInspectorModelOperation",{}).then(m=>{let u=JSON.parse(m),y=u.computedModel;this.updateClientSideStyles(y.elementComputedStyles,l),y.markerComputedStyle&&Object.keys(y.markerComputedStyle).length&&this.updateClientSideStyles(y.markerComputedStyle,a);let S=Object.keys(y.afterComputedStyles);for(let v=0;v<S.length;v++)this.updateClientSideStyles(y.afterComputedStyles[S[v]],f[v]);let g=Object.keys(y.beforeComputedStyles);for(let v=0;v<g.length;v++)this.updateClientSideStyles(y.beforeComputedStyles[g[v]],c[v]);this.cssInspectorDataContainerRef.current&&this.cssInspectorDataContainerRef.current.setCssData(u)}).thenCatch(m=>console.error(m))},this),800);opened(){this.updateData()}getIcon(t){return sync.util.computeHdpiIcon("../plugin-resources/dev-helper/CSSInspector24.png")}static updateSideView(){workspace.getViewManager().isViewOpen(T)&&workspace.getViewManager().getView(T).updateData()}};var G="inspect.element.styles",re=class extends sync.actions.AbstractAction{getDisplayName(){return"Inspect Styles"}createSideView(){let t=new E(this),n={initiallyClosed:!1,side:"right"};workspace.getViewManager().addView(T),workspace.getViewManager().installView(T,t,n)}actionPerformed(t){workspace.getViewManager().getView(T)||this.createSideView(),workspace.getViewManager().isViewOpen(T)?E.updateSideView():workspace.getViewManager().focusView(T),t&&t()}},Re=re;(function(){let e=new Re;workspace.listen(sync.api.Workspace.EventType.BEFORE_EDITOR_LOADED,function(n){let o=n.editor;o.getActionsManager().registerAction(G,e),o.listen(sync.api.Editor.EventTypes.ACTIONS_LOADED,function(s){let r=s.actionsConfiguration.contextualItems;if(r){let i=r.find(a=>a.id==="about.element");!!i.children.find(a=>a.id===G)||i.children.push({id:G,type:"action"})}})}),document.getElementById("editor-frame").addEventListener("focusin",()=>{E.updateSideView()}),workspace.listen(sync.api.Workspace.EventType.EDITOR_LOADED,function(n){n.editor.getEditingSupport().getSelectionManager()&&n.editor.getEditingSupport().getSelectionManager().listen(sync.api.SelectionManager.EventType.SELECTION_CHANGED,function(){E.updateSideView()})})})();})();
